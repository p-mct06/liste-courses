<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Liste de courses</title>
  <style>
    /* [Styles identiques à la version précédente] */
    /* ... */
  </style>
</head>
<body style="display: none;">
  <header>
    <div class="title">Liste de courses</div>
    <div id="filter-indicator"></div>
  </header>
  <div class="container" id="list-container"></div>
  <button class="add-btn" onclick="addItem()">+</button>
  <footer>
    <button class="footer-btn" onclick="addCategory()">➕ Rayon</button>
    <button class="footer-btn" onclick="checkAll()">✔ Tout</button>
    <button class="footer-btn" onclick="filterItems()">🔍 Filtrer</button>
    <button class="footer-btn" onclick="resetFilters()">❌</button>
  </footer>

  <script>
    let defaultData = {
      "Fruits et légumes 🥦": [],
      "Boucherie 🥩": [],
      "Poissonnerie 🐟": [],
      "Charcuterie 🍖": [],
      "Crèmerie 🧀": [],
      "Épicerie sucrée 🍫": [],
      "Épicerie salée 🥫": [],
      "Surgelés ❄️": [],
      "Boissons 🥤": [],
      "Boulangerie 🥖": [],
      "Pâtisserie 🍰": [],
      "Produits frais 🧈": [],
      "Hygiène 🧼": [],
      "Entretien 🧽": [],
      "Animalerie 🐶": [],
      "Bébé 👶": [],
      "Divers 📦": []
    };

    let data = JSON.parse(localStorage.getItem("groceryData")) || structuredClone(defaultData);
    let checkedItems = JSON.parse(localStorage.getItem("checkedItems")) || {};
    let authorizedUsers = JSON.parse(localStorage.getItem("authorizedUsers")) || ["mouchet.family@gmail.com"];
    let currentUser = null;
    let activeFilterCategory = null;
    let activeFilterLetter = null;

    // ...
    // Le reste du code JavaScript est inchangé, avec la fonction login(), renderList(), etc.
    // Assurez-vous que login() est bien appelé à la fin du script :
    window.onload = login;
  </script>
</body>
</html>
